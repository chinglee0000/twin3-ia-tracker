# 設計系統統一 - 實施計劃

- [x] 1. 建立設計令牌系統和核心基礎設施
  - 創建統一的 CSS 變量系統，包含色彩、間距、字體、陰影和圓角變量
  - 更新現有的 index.css 文件，整合新的設計令牌
  - 創建 TypeScript 接口定義設計令牌的類型
  - _需求: 1.1, 5.3, 5.4, 5.5_

- [x] 1.1 為設計令牌完整性編寫屬性測試
  - **屬性 1：設計令牌完整性**
  - **驗證：需求 1.1, 5.3, 5.4, 5.5**

- [x] 1.2 創建設計令牌管理器組件
  - 實現 DesignTokens 接口和相關類型定義
  - 創建令牌驗證和回退機制
  - _需求: 1.1_

- [x] 1.3 為顏色變量一致性編寫屬性測試
  - **屬性 2：顏色變量一致性**
  - **驗證：需求 1.2, 3.5**

- [x] 1.4 為可訪問性對比度編寫屬性測試
  - **屬性 3：可訪問性對比度合規**
  - **驗證：需求 1.4**

- [x] 1.5 為 CSS 變量全局更新編寫屬性測試
  - **屬性 4：CSS 變量全局更新**
  - **驗證：需求 1.5**

- [x] 2. 實施國際化系統
  - 安裝和配置 react-i18next 庫
  - 創建語言檢測和切換邏輯
  - 實現本地存儲的語言偏好保存
  - _需求: 2.1, 2.2, 2.3, 2.4_

- [x] 2.1 創建翻譯資源文件
  - 建立中英文翻譯文件結構
  - 實現現有界面文本的翻譯鍵值對
  - _需求: 2.5_

- [x] 2.2 為語言自動檢測編寫屬性測試
  - **屬性 5：語言自動檢測**
  - **驗證：需求 2.1**

- [x] 2.3 為語言切換完整性編寫屬性測試
  - **屬性 6：語言切換完整性**
  - **驗證：需求 2.2, 2.3**

- [x] 2.4 為語言偏好持久化編寫屬性測試
  - **屬性 7：語言偏好持久化**
  - **驗證：需求 2.4**

- [x] 2.5 為翻譯完整性編寫屬性測試
  - **屬性 8：翻譯完整性**
  - **驗證：需求 2.5**

- [x] 2.6 創建語言切換組件
  - 實現語言選擇器 UI 組件
  - 集成到主要佈局中
  - _需求: 2.2_

- [x] 3. 標準化圖標系統
  - 審查現有組件中的圖標使用情況
  - 創建語義圖標映射配置
  - 實現圖標尺寸標準化
  - _需求: 3.1, 3.2, 3.3, 3.4_

- [x] 3.1 為圖標庫統一性編寫屬性測試
  - **屬性 9：圖標庫統一性**
  - **驗證：需求 3.1, 3.2**

- [x] 3.2 為語義圖標一致性編寫屬性測試
  - **屬性 10：語義圖標一致性**
  - **驗證：需求 3.3**

- [x] 3.3 為圖標尺寸標準化編寫屬性測試
  - **屬性 11：圖標尺寸標準化**
  - **驗證：需求 3.4**

- [x] 3.4 更新所有組件的圖標使用
  - 替換任何非 Lucide 圖標為對應的 Lucide 圖標
  - 統一圖標尺寸為標準值
  - 確保語義一致性
  - _需求: 3.1, 3.2, 3.3, 3.4_

- [x] 4. 檢查點 - 確保所有測試通過
  - 確保所有測試通過，如有問題請詢問用戶

- [x] 5. 統一用語規範
  - 創建標準化的用語詞典
  - 更新所有按鈕文本為標準動作詞彙
  - 統一狀態描述詞彙
  - 標準化代幣顯示格式
  - _需求: 4.1, 4.2, 4.3_

- [x] 5.1 為按鈕文本標準化編寫屬性測試
  - **屬性 12：按鈕文本標準化**
  - **驗證：需求 4.1**

- [x] 5.2 為狀態描述一致性編寫屬性測試
  - **屬性 13：狀態描述一致性**
  - **驗證：需求 4.2**

- [x] 5.3 為代幣格式統一性編寫屬性測試
  - **屬性 14：代幣格式統一性**
  - **驗證：需求 4.3**

- [x] 5.4 更新所有組件的文本內容
  - 應用標準化的按鈕文本
  - 統一狀態描述
  - 修正代幣顯示格式
  - _需求: 4.1, 4.2, 4.3_

- [x] 6. 完善組件庫樣式
  - 標準化按鈕樣式類別（primary, ghost, secondary）
  - 統一卡片樣式和玻璃擬態效果
  - 確保所有組件使用設計令牌
  - _需求: 5.1, 5.2_

- [x] 6.1 為組件樣式標準化編寫單元測試
  - 測試按鈕樣式類別的完整性
  - 測試卡片樣式的玻璃擬態效果
  - 測試組件使用設計令牌的一致性
  - _需求: 5.1, 5.2_

- [x] 6.2 更新現有組件以使用統一樣式
  - 重構 TaskOpportunityCard 組件
  - 重構 ActiveTaskWidget 組件
  - 重構 ScoreProgressWidget 組件
  - 重構其他 widgets 組件
  - _需求: 5.1, 5.2_

- [x] 7. 優化 Flowchart 組件設計一致性
  - 識別和分析現有的 Flowchart 組件
  - 更新 Flowchart 節點樣式以使用設計系統顏色
  - 統一連接線樣式和顏色
  - 實現語義化的狀態顏色
  - 統一文本樣式和交互效果
  - _需求: 6.1, 6.2, 6.3, 6.4, 6.5_

- [x] 7.1 為 Flowchart 設計系統一致性編寫屬性測試
  - **屬性 15：Flowchart 設計系統一致性**
  - **驗證：需求 6.1, 6.2, 6.4**

- [x] 7.2 為 Flowchart 狀態語義化編寫屬性測試
  - **屬性 16：Flowchart 狀態語義化**
  - **驗證：需求 6.3**

- [x] 7.3 為 Flowchart 交互一致性編寫屬性測試
  - **屬性 17：Flowchart 交互一致性**
  - **驗證：需求 6.5**

- [x] 8. 創建主題提供者和上下文
  - 實現 ThemeProvider 組件
  - 創建 React Context 用於設計系統狀態管理
  - 集成國際化上下文
  - _需求: 1.1, 2.1, 2.2_

- [x] 8.1 更新應用根組件
  - 在 App.tsx 中集成 ThemeProvider
  - 確保所有子組件可以訪問設計系統上下文
  - _需求: 1.1, 2.1_

- [x] 9. 最終檢查點 - 確保所有測試通過
  - 確保所有測試通過，如有問題請詢問用戶

- [x] 10. 文檔更新和清理
  - 更新 UI_SPEC.md 文檔以反映新的設計系統
  - 清理未使用的 CSS 類和變量
  - 添加設計系統使用指南
  - _需求: 所有需求_

---

## 完成摘要 (2025-12-25)

### 已實現的設計系統組件

1. **DesignTokenManager** - CSS 變量系統管理器
   - 色彩、間距、字體、陰影、圓角令牌
   - 令牌驗證和回退機制
   - 動態 CSS 變量更新
   - font-weight 最大值限制為 500

2. **I18nManager** - 國際化管理器
   - 支援 zh-TW / en 雙語
   - 瀏覽器語言自動檢測
   - localStorage 偏好持久化
   - 預設語言：中文 (zh-TW)
   - 語言切換按鈕已移除

3. **IconSystemManager** - 圖標系統管理器
   - Lucide 圖標統一使用
   - 語義圖標映射 (semantic mapping)
   - 標準尺寸: xs(14px), sm(16px), md(18px), lg(20px), xl(24px)

4. **TerminologyManager** - 用語規範管理器
   - 標準化按鈕文本 (查看、編輯、刪除等)
   - 標準化狀態描述 (待開發、已完成等)
   - 代幣格式統一 ($twin3)

5. **ThemeProvider** - 主題提供者
   - 統一上下文管理
   - 狀態持久化 (語言、側邊欄、當前頁面)
   - 事件訂閱機制
   - 整合所有設計系統管理器
   - theme-status 預設隱藏

### UI 優化

- 按鈕樣式: 白底黑字 → hover 時透明 + 白框 + 白字
- 數值顯示: 移除漸層色，使用純白色
- Flowchart: 節點僅描邊 (stroke-only)，無填充，移除 hover 效果
- 移除所有 emoji，改用 Lucide 圖標
- 所有內文字調整為 14px

### Badge 顏色對應規則

- **badge-cyan**: 分類標籤 (section, category, type)
- **badge-purple**: 待開發狀態
- **badge-green**: 互動元素
- **badge-orange**: 即將推出 (Soon)
- **badge-gray**: 展示/靜態內容
- **badge-pink**: 外部連結/社群

### 用語更新

- "Strategic Plan" → "Plan"
- "可互動" → "互動"
- "Coming Soon" → "Soon"
- 開發追蹤所有內容預設為「待開發」

### 翻譯文件

- `docs/i18n/zh-TW.json` - 繁體中文
- `docs/i18n/en.json` - 英文